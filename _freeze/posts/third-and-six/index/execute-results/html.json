{
  "hash": "17c94ec19f661086f9a6bd82c983f7fe",
  "result": {
    "markdown": "---\ntitle: \"Third and Six\"\nauthor: \"Alexa Henry\"\ndate: '2023-10-17'\ncategories: [football, big ten]\nimage: \"image.png\"\nformat: \n  html:\n    code-fold: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(cfbfastR)\n```\n:::\n\n\n### Load play by play data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplays <- load_cfb_pbp(seasons = c(2019, 2020, 2021, 2022, 2023))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nthird_and_six <- plays |> filter(down==3, distance==6)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nthird_and_six |> \n  group_by (play_type) |>\n  summarise(\n    plays = n()\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 19 × 2\n   play_type                            plays\n   <chr>                                <int>\n 1 Blocked Field Goal                       1\n 2 Field Goal Good                         13\n 3 Field Goal Missed                        3\n 4 Fumble Recovery (Opponent)              83\n 5 Fumble Recovery (Opponent) Touchdown     1\n 6 Fumble Recovery (Own)                   55\n 7 Fumble Return Touchdown                  3\n 8 Interception Return                    182\n 9 Interception Return Touchdown           24\n10 Pass Incompletion                     2859\n11 Pass Reception                        3484\n12 Passing Touchdown                      383\n13 Penalty                                813\n14 Punt                                     3\n15 Rush                                  2359\n16 Rushing Touchdown                      100\n17 Sack                                   613\n18 Safety                                   2\n19 Timeout                                674\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrush_plays <- c(\"Rush\", \"Rushing Touchdown\")\n  \nthird_and_six |>\n  filter(play_type %in% rush_plays) |> \n  summarise(\n    plays = n()\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  plays\n  <int>\n1  2459\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n2459 / 11655 *100\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 21.09824\n```\n:::\n:::\n\n21.098 or 21%\n\n\n::: {.cell}\n\n```{.r .cell-code}\nthird_and_six |>\n  filter(play_type %in% rush_plays) |>\n  filter(yards_to_goal < 50) |> \n  summarise(\n    plays = n(),\n    min = min(yards_gained),\n    max = max(yards_gained),\n    median = median(yards_gained),\n    yards_gainedAvg = mean(yards_gained)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 5\n  plays   min   max median yards_gainedAvg\n  <int> <dbl> <dbl>  <dbl>           <dbl>\n1  1401   -16    42      4            5.30\n```\n:::\n:::\n\nIn the first go-around of the code, it just gave me an average of 6 which to me didn't seem entirely right. Added in min and max and saw that the max was 79 yards which means there are some outlier plays. Added in a Median which gave a more accurate gain of yards. \n\nFrom there, I added in a filter of less than 50 yards. This gave me an average of 5 yards but still the same median. However, the max is 42. Which I think is more reasonable. \n\nI then added in plays count and it said there are 1,401 plays where third and six are less than 50 yards. I think this is a better model than just looking at just the average because now it shows that out of 11,655 plays only 1,401 are third and six plays. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nthird_and_six |>\n  filter(play_type %in% rush_plays) |>\n  filter(yards_to_goal < 50) |> \n  group_by(pos_team) |>\n  summarise(\n    plays = n(),\n    min = min(yards_gained),\n    max = max(yards_gained),\n    median = median(yards_gained),\n    yards_gainedAvg = mean(yards_gained)\n  ) |>\n  arrange(desc(plays))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 239 × 6\n   pos_team         plays   min   max median yards_gainedAvg\n   <chr>            <int> <dbl> <dbl>  <dbl>           <dbl>\n 1 Air Force           21    -3    18    5              5.57\n 2 Army                20    -5    13    3.5            3.65\n 3 Kent State          20   -16    38    5              7.35\n 4 Navy                20    -6    15    3              3.8 \n 5 Ole Miss            17    -3    14    3              4.35\n 6 Florida State       16    -3    31    5              6.12\n 7 Georgia Southern    16    -5    19    2.5            3.38\n 8 Oklahoma State      16    -5    18    3              3.69\n 9 Kennesaw State      15    -2    16    3              4.8 \n10 Bowling Green       14   -10     9    2.5            1.79\n# ℹ 229 more rows\n```\n:::\n:::\n\nI found that Air Force runs third and six plays that are less than 50 yards about 21 times which is the most out of all the teams. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nthird_and_six |>\n  filter(play_type %in% rush_plays) |>\n  filter(yards_to_goal < 30) |> \n  filter (pos_team == \"Maryland\") |>\n  filter (period == 4) |>\n  summarise(\n    plays = n(),\n    min = min(yards_gained),\n    max = max(yards_gained),\n    median = median(yards_gained),\n    yards_gainedAvg = mean(yards_gained)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 5\n  plays   min   max median yards_gainedAvg\n  <int> <dbl> <dbl>  <dbl>           <dbl>\n1     2    -1    15      7               7\n```\n:::\n:::\n\nLooking at the fact there are only 2 times that Maryland has been in a third and six situation where they were on the opponents territory, it basically looks like that Maryland doesn't find themselves in these situations a lot. Which would make sense that what happened against Illinois...happened. \n\nGraphic \n\n\n::: {.cell}\n\n```{.r .cell-code}\nplays_third_and_six <- third_and_six |>\n  group_by(pos_team) |>\n  filter(play_type %in% rush_plays) |>\n  filter(yards_to_goal < 50) |>\n  filter (period == 4) |>\n  summarise(\n    plays = n(),\n    min = min(yards_gained),\n    max = max(yards_gained),\n    median = median(yards_gained),\n    yards_gainedAvg = mean(yards_gained)\n  ) |> arrange (desc(plays))\n```\n:::\n\nI'm trying to show the list with the teams with the most amount of plays. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nplays_third_and_six <- third_and_six |>\n  group_by(pos_team) |>\n  filter(play_type %in% rush_plays) |>\n  filter(yards_to_goal < 50) |>\n  filter (period == 4) |>\n  summarise(\n    plays = n()\n  ) |> arrange (desc(plays))\n```\n:::\n\nI took out the yards gained and the averages because for some reason my list was organizing by yards gained instead of plays. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nplays_third_and_six |>\n  arrange(desc(plays)) |>\n  top_n(10)|>\n  select (pos_team, plays)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSelecting by plays\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 21 × 2\n   pos_team        plays\n   <chr>           <int>\n 1 Air Force          10\n 2 Oklahoma State      9\n 3 Troy                9\n 4 Ole Miss            7\n 5 San Diego State     7\n 6 UAB                 7\n 7 South Alabama       6\n 8 Arizona State       5\n 9 Arkansas            5\n10 Colorado            5\n# ℹ 11 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntop10 <- plays_third_and_six |>\n  arrange(desc(plays)) |>\n  head(10) |> \n  select(pos_team, plays)\n```\n:::\n\nI don't know if I'm right but I think R is seeing that some teams have the same amount of plays so it's thinking that they are also in the top 10. But I'm not sure why it's showing me more than ten teams.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(scales)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'scales'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:purrr':\n\n    discard\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() + \n  geom_bar(\n    data=top10, \n    aes(x=pos_team, weight=plays)) + scale_y_continuous(labels=comma)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() + \n  geom_bar(\n    data=top10, \n    aes(\n      x=reorder(pos_team, plays), \n      weight=plays\n      )\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() + \n  geom_bar(\n    data=top10, \n    aes(x=reorder(pos_team, plays),\n        weight=plays)) + \n  scale_y_continuous(labels=comma) + \n  labs(\n    title=\"Air Force Puts Themselves in Tight Situations Often\", \n    x=\"Team\", \n    y=\"Plays\") + \n  theme_minimal() + \n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\nSo, in conclusion, I found that Air Force ends up being the team that has run the most amount of third and six plays. Seemlingly, it means that Air Force also knows how to run the ball more and knows how to get themselves out of those situations. It's interesting because ESPN just ran an article about how Air Force is the best school in Colorado. \n\nOddly enough, Prime Time and his team is also on this list. For them, I don't think this is a good thing considering they have had many inconsistencies when it comes to running the ball. Look at the Stanford game when they went into double overtime and basically gave that game away last minute. Maybe Colorado would benefit in NOT finding themselves in these situations. Whereas, their state neighbor has actually benefit from those third and six plays. \n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}